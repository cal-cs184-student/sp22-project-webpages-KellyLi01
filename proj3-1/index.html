<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<style>  
    div.padded {  
      padding-top: 0px;  
      padding-right: 100px;  
      padding-bottom: 0.25in;  
      padding-left: 100px;  
    }  
  </style> 
<title>Jennifer Yang CS184-ABZ, Kelly Li CS184-AAR  |  CS 184</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="style.css" media="screen" />
</head>
<body>
<br />
<h1 align="middle">Assignment 3: PathTracer</h1>
<h2 align="middle">Jennifer Yang CS184-ABZ, Kelly Li CS184-AAR</h2>

    <div class="padded">
        <p>Use this section to write an overview of the assignment. All of the text in your write-up should be <em>in your own words</em>. If you need to add additional HTML features to this document, you can search the <a href="http://www.w3schools.com/">http://www.w3schools.com/</a> website for instructions. To edit the HTML, you can just copy and paste existing chunks and fill in the text and image file names appropriately.</p>
        <o>
            The website writeup is intended to be a self-contained walkthrough of the assignment: we want this to be a piece of work which showcases your understanding of relevant concepts through both mesh images as well as written explanations about what you did to complete each part of the assignment. Try to be as clear and organized as possible when writing about your own output files or extensions to the assignment. We want to understand what you've achieved and how you've done it!</p>
            <p>If you are well-versed in web development, feel free to ditch this template and make a better looking page. Just make sure that you include all the components as we've laid them out here. </p>

            <h2 align="middle">Part 1: Ray Generation and Intersection</h2>
            <h3>Ray Generation</h3>
            <p>
                Given a point in the normalized image, first translate it by (-0.5, -0.5) to get the image centered at (0, 0),
                then scale the point by <pre>(tan(0.5*hFov) * 2, tan(0.5*vFov)*2)</pre> to get the point (new_x, new_y) in camera space.
                For example, the point (0,0) gets translated into (-0.5, -0.5), then scaled to become (-tan(0.5*hFov), -tan(0.5*vFov)). 
                The camera-to-world rotation matrix is then used on the ray (new_x, new_y, -1) to convert the ray to world space. 
                The ray is then normalized to get the direction vector.
            </p>
            <h3>Pixel Sampling</h3>
            <p>
                To input pixels from unnormalized image space, we first normalized the x and y coordinates using transformations,
                then used rand01() with get_sample() to sample random coordinates within the (x,y) pixel. 
                With these samples, we would generate the camera ray which intersects at that point using generate_ray()
                and use Monte Carlo over all the samples to calculate the pixel’s radiance.
            </p>
            <h3>Primitive Intersection</h3>
            <p>
                For the primitive intersection, the ray intersection algorithm for the given primitive is used.
                If the ray intersects(i.e. t >= 0 and other primitive-specific conditions are met),
                the ray’s max_t value is updated to prevent objects in the back from being visible from the camera.
            </p>
            <h3>Triangle INtersection Algorithm</h3>
            <p>
                According to barycentric coordinates, a point in a triangle can be described with respect to the triangle’s vertices with the equations
                <pre>P = alpha*P_0 + beta*P_1 + gamma*P_2</pre> <pre>alpha + beta + gamma = 1 and they are all >=0.</pre> If a ray R(t) = o + td
                has a point of intersection on the triangle, then o + td = P, 
                thus we can plug the ray’s equation into the point-in-triangle equation, and if the t, alpha, beta, and gamma values are valid, then the ray properly intersects with the triangle. 
                Since alpha + beta + gamma = 1, alpha can be set to (1 - beta - gamma). 
                Rearranging the equation <pre>o + td = (1-beta-gamma)*P_0 + beta*P_1 + gamma*P_2</pre> gives us <pre>-td + (P_1-P_0)beta + (P_2-P_0)gamma = o-P_0</pre>
                This can be written as Mx = b, where <pre>M = [-d, P_1-P_0, P_2-P_0]</pre> <pre>x = [t, beta, gamma]^T</pre><pre>b = [o-P_0]</pre> 
                Applying Cramer’s rule on the linear equation Mx=b gives us the Moller-Trumbore algorithm, which we use to find t, beta, and gamma.
                After getting the t, beta, and gamma values, if t < 0, beta < 0, beta > 1, gamma < 0, gamma > 1, or 1-beta-gamma < 0,
                then the ray does not intersect with the triangle. Otherwise, it intersects the triangle.

            </p>
            <div align="center">
                <table style="width=100%">
                    <tr>
                        <td align="middle">
                            <img src="images/task1-spheres.png" width="480px" />
                            <figcaption align="middle">Normal shading on CBSpheres</figcaption>
                        </td>
                        <td align="middle">
                            <img src="images/task1-bench.png" width="480px" />
                            <figcaption align="middle">Normal shading on bench</figcaption>
                        </td>
                    </tr>
                    <tr>
                        <td align="middle">
                            <img src="images/task1-blob.png" width="480px" />
                            <figcaption align="middle">Normal shading on blob</figcaption>
                        </td>
                        <td align="middle">
                            <img src="images/part1-cow.png" width="480px" />
                            <figcaption align="middle">Normal shading on cow</figcaption>
                        </td>
                    </tr>
                </table>
            </div>
            <p>Here is an example of how to include a simple formula:</p>
            <p align="middle"><pre align="middle">a^2 + b^2 = c^2</pre></p>
            <p>or, alternatively, you can include an SVG image of a LaTex formula.</p>
            <p>This time it's your job to copy-paste in the rest of the sections :)</p>

            <h2 align="middle">Part 2: Bounding Volume Hierarchy</h2>
            <p>Describe what you did in Part 2. etc...</p>
            <div align="center">
                <table style="width=100%">
                    <tr>
                        <td align="middle">
                            <img src="images/part2-1-cow.gif" width="480px" />
                            <figcaption align="middle">Results Caption: MOOOOOO</figcaption>
                        </td>
                    </tr>
                </table>
            </div>
            <p>Here is an example of how to include a simple formula:</p>
            <p align="middle"><pre align="middle">a^2 + b^2 = c^2</pre></p>
            <p>or, alternatively, you can include an SVG image of a LaTex formula.</p>
            <p>This time it's your job to copy-paste in the rest of the sections :)</p>

            <h2 align="middle">A Few Notes On Webpages</h2>
            <p>Here are a few problems students have encountered in the past. You will probably encounter these problems at some point, so don't wait until right before the deadline to check that everything is working. Test your website on the instructional machines early!</p>
            <ul>
                <li>Your main report page should be called index.html.</li>
                <li>Be sure to include and turn in all of the other files (such as images) that are linked in your report!</li>
                <li>
                    Use only <em>relative</em> paths to files, such as <pre>"./images/image.jpg"</pre>
                    Do <em>NOT</em> use absolute paths, such as <pre>"/Users/student/Desktop/image.jpg"</pre>
                </li>
                <li>Pay close attention to your filename extensions. Remember that on UNIX systems (such as the instructional machines), capitalization matters. <pre>.png != .jpeg != .jpg != .JPG</pre>
                </li>
                <li>Be sure to adjust the permissions on your files so that they are world readable. For more information on this please see this tutorial: <a href="http://www.grymoire.com/Unix/Permissions.html">http://www.grymoire.com/Unix/Permissions.html</a></li>
                <li>And again, test your website on the instructional machines early!</li>
            </ul>
        </o></div>
</body>
</html>




